import{r as p,a as ft,b as pt}from"./vendor-Gm9i_4Ku.js";import{u as ce,L as E,N as ls,a as gt,b as jt,B as Nt,R as bt,c as G}from"./router-C8Drx-ap.js";import{c as _s,t as vt,S as cs,a as Je,U as We,L as ds,X as je,M as yt,b as K,P as Ce,H as as,B as Te,T as Os,C as ke,F as wt,G as At,d as St,e as Ts,f as ks,g as Ps,h as Ne,i as Ls,j as Et,k as Fs,l as ms,m as Ct,A as Rt,n as _t}from"./ui-S4uNYdtC.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var Ds={exports:{}},Pe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ot=p,Tt=Symbol.for("react.element"),kt=Symbol.for("react.fragment"),Pt=Object.prototype.hasOwnProperty,Lt=Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ft={key:!0,ref:!0,__self:!0,__source:!0};function Ms(s,t,a){var r,n={},i=null,o=null;a!==void 0&&(i=""+a),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Pt.call(t,r)&&!Ft.hasOwnProperty(r)&&(n[r]=t[r]);if(s&&s.defaultProps)for(r in t=s.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:Tt,type:s,key:i,ref:o,props:n,_owner:Lt.current}}Pe.Fragment=kt;Pe.jsx=Ms;Pe.jsxs=Ms;Ds.exports=Pe;var e=Ds.exports,Ge={},us=ft;Ge.createRoot=us.createRoot,Ge.hydrateRoot=us.hydrateRoot;function Bs(s,t){return function(){return s.apply(t,arguments)}}const{toString:Dt}=Object.prototype,{getPrototypeOf:rs}=Object,{iterator:Le,toStringTag:Us}=Symbol,Fe=(s=>t=>{const a=Dt.call(t);return s[a]||(s[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),X=s=>(s=s.toLowerCase(),t=>Fe(t)===s),De=s=>t=>typeof t===s,{isArray:ue}=Array,be=De("undefined");function Mt(s){return s!==null&&!be(s)&&s.constructor!==null&&!be(s.constructor)&&H(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const zs=X("ArrayBuffer");function Bt(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&zs(s.buffer),t}const Ut=De("string"),H=De("function"),Is=De("number"),Me=s=>s!==null&&typeof s=="object",zt=s=>s===!0||s===!1,Ae=s=>{if(Fe(s)!=="object")return!1;const t=rs(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Us in s)&&!(Le in s)},It=X("Date"),qt=X("File"),$t=X("Blob"),Vt=X("FileList"),Ht=s=>Me(s)&&H(s.pipe),Jt=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||H(s.append)&&((t=Fe(s))==="formdata"||t==="object"&&H(s.toString)&&s.toString()==="[object FormData]"))},Wt=X("URLSearchParams"),[Gt,Kt,Xt,Qt]=["ReadableStream","Request","Response","Headers"].map(X),Yt=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ve(s,t,{allOwnKeys:a=!1}={}){if(s===null||typeof s>"u")return;let r,n;if(typeof s!="object"&&(s=[s]),ue(s))for(r=0,n=s.length;r<n;r++)t.call(null,s[r],r,s);else{const i=a?Object.getOwnPropertyNames(s):Object.keys(s),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,s[l],l,s)}}function qs(s,t){t=t.toLowerCase();const a=Object.keys(s);let r=a.length,n;for(;r-- >0;)if(n=a[r],t===n.toLowerCase())return n;return null}const ne=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$s=s=>!be(s)&&s!==ne;function Ke(){const{caseless:s}=$s(this)&&this||{},t={},a=(r,n)=>{const i=s&&qs(t,n)||n;Ae(t[i])&&Ae(r)?t[i]=Ke(t[i],r):Ae(r)?t[i]=Ke({},r):ue(r)?t[i]=r.slice():t[i]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&ve(arguments[r],a);return t}const Zt=(s,t,a,{allOwnKeys:r}={})=>(ve(t,(n,i)=>{a&&H(n)?s[i]=Bs(n,a):s[i]=n},{allOwnKeys:r}),s),ea=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),sa=(s,t,a,r)=>{s.prototype=Object.create(t.prototype,r),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:t.prototype}),a&&Object.assign(s.prototype,a)},ta=(s,t,a,r)=>{let n,i,o;const l={};if(t=t||{},s==null)return t;do{for(n=Object.getOwnPropertyNames(s),i=n.length;i-- >0;)o=n[i],(!r||r(o,s,t))&&!l[o]&&(t[o]=s[o],l[o]=!0);s=a!==!1&&rs(s)}while(s&&(!a||a(s,t))&&s!==Object.prototype);return t},aa=(s,t,a)=>{s=String(s),(a===void 0||a>s.length)&&(a=s.length),a-=t.length;const r=s.indexOf(t,a);return r!==-1&&r===a},ra=s=>{if(!s)return null;if(ue(s))return s;let t=s.length;if(!Is(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=s[t];return a},na=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&rs(Uint8Array)),ia=(s,t)=>{const r=(s&&s[Le]).call(s);let n;for(;(n=r.next())&&!n.done;){const i=n.value;t.call(s,i[0],i[1])}},oa=(s,t)=>{let a;const r=[];for(;(a=s.exec(t))!==null;)r.push(a);return r},la=X("HTMLFormElement"),ca=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),hs=(({hasOwnProperty:s})=>(t,a)=>s.call(t,a))(Object.prototype),da=X("RegExp"),Vs=(s,t)=>{const a=Object.getOwnPropertyDescriptors(s),r={};ve(a,(n,i)=>{let o;(o=t(n,i,s))!==!1&&(r[i]=o||n)}),Object.defineProperties(s,r)},ma=s=>{Vs(s,(t,a)=>{if(H(s)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=s[a];if(H(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},ua=(s,t)=>{const a={},r=n=>{n.forEach(i=>{a[i]=!0})};return ue(s)?r(s):r(String(s).split(t)),a},ha=()=>{},xa=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t;function fa(s){return!!(s&&H(s.append)&&s[Us]==="FormData"&&s[Le])}const pa=s=>{const t=new Array(10),a=(r,n)=>{if(Me(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[n]=r;const i=ue(r)?[]:{};return ve(r,(o,l)=>{const u=a(o,n+1);!be(u)&&(i[l]=u)}),t[n]=void 0,i}}return r};return a(s,0)},ga=X("AsyncFunction"),ja=s=>s&&(Me(s)||H(s))&&H(s.then)&&H(s.catch),Hs=((s,t)=>s?setImmediate:t?((a,r)=>(ne.addEventListener("message",({source:n,data:i})=>{n===ne&&i===a&&r.length&&r.shift()()},!1),n=>{r.push(n),ne.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",H(ne.postMessage)),Na=typeof queueMicrotask<"u"?queueMicrotask.bind(ne):typeof process<"u"&&process.nextTick||Hs,ba=s=>s!=null&&H(s[Le]),h={isArray:ue,isArrayBuffer:zs,isBuffer:Mt,isFormData:Jt,isArrayBufferView:Bt,isString:Ut,isNumber:Is,isBoolean:zt,isObject:Me,isPlainObject:Ae,isReadableStream:Gt,isRequest:Kt,isResponse:Xt,isHeaders:Qt,isUndefined:be,isDate:It,isFile:qt,isBlob:$t,isRegExp:da,isFunction:H,isStream:Ht,isURLSearchParams:Wt,isTypedArray:na,isFileList:Vt,forEach:ve,merge:Ke,extend:Zt,trim:Yt,stripBOM:ea,inherits:sa,toFlatObject:ta,kindOf:Fe,kindOfTest:X,endsWith:aa,toArray:ra,forEachEntry:ia,matchAll:oa,isHTMLForm:la,hasOwnProperty:hs,hasOwnProp:hs,reduceDescriptors:Vs,freezeMethods:ma,toObjectSet:ua,toCamelCase:ca,noop:ha,toFiniteNumber:xa,findKey:qs,global:ne,isContextDefined:$s,isSpecCompliantForm:fa,toJSONObject:pa,isAsyncFn:ga,isThenable:ja,setImmediate:Hs,asap:Na,isIterable:ba};function C(s,t,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}h.inherits(C,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:h.toJSONObject(this.config),code:this.code,status:this.status}}});const Js=C.prototype,Ws={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Ws[s]={value:s}});Object.defineProperties(C,Ws);Object.defineProperty(Js,"isAxiosError",{value:!0});C.from=(s,t,a,r,n,i)=>{const o=Object.create(Js);return h.toFlatObject(s,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),C.call(o,s.message,t,a,r,n),o.cause=s,o.name=s.name,i&&Object.assign(o,i),o};const va=null;function Xe(s){return h.isPlainObject(s)||h.isArray(s)}function Gs(s){return h.endsWith(s,"[]")?s.slice(0,-2):s}function xs(s,t,a){return s?s.concat(t).map(function(n,i){return n=Gs(n),!a&&i?"["+n+"]":n}).join(a?".":""):t}function ya(s){return h.isArray(s)&&!s.some(Xe)}const wa=h.toFlatObject(h,{},null,function(t){return/^is[A-Z]/.test(t)});function Be(s,t,a){if(!h.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,a=h.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,x){return!h.isUndefined(x[N])});const r=a.metaTokens,n=a.visitor||d,i=a.dots,o=a.indexes,u=(a.Blob||typeof Blob<"u"&&Blob)&&h.isSpecCompliantForm(t);if(!h.isFunction(n))throw new TypeError("visitor must be a function");function m(g){if(g===null)return"";if(h.isDate(g))return g.toISOString();if(!u&&h.isBlob(g))throw new C("Blob is not supported. Use a Buffer instead.");return h.isArrayBuffer(g)||h.isTypedArray(g)?u&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,N,x){let A=g;if(g&&!x&&typeof g=="object"){if(h.endsWith(N,"{}"))N=r?N:N.slice(0,-2),g=JSON.stringify(g);else if(h.isArray(g)&&ya(g)||(h.isFileList(g)||h.endsWith(N,"[]"))&&(A=h.toArray(g)))return N=Gs(N),A.forEach(function(R,w){!(h.isUndefined(R)||R===null)&&t.append(o===!0?xs([N],w,i):o===null?N:N+"[]",m(R))}),!1}return Xe(g)?!0:(t.append(xs(x,N,i),m(g)),!1)}const c=[],j=Object.assign(wa,{defaultVisitor:d,convertValue:m,isVisitable:Xe});function f(g,N){if(!h.isUndefined(g)){if(c.indexOf(g)!==-1)throw Error("Circular reference detected in "+N.join("."));c.push(g),h.forEach(g,function(A,S){(!(h.isUndefined(A)||A===null)&&n.call(t,A,h.isString(S)?S.trim():S,N,j))===!0&&f(A,N?N.concat(S):[S])}),c.pop()}}if(!h.isObject(s))throw new TypeError("data must be an object");return f(s),t}function fs(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ns(s,t){this._pairs=[],s&&Be(s,this,t)}const Ks=ns.prototype;Ks.append=function(t,a){this._pairs.push([t,a])};Ks.toString=function(t){const a=t?function(r){return t.call(this,r,fs)}:fs;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function Aa(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xs(s,t,a){if(!t)return s;const r=a&&a.encode||Aa;h.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let i;if(n?i=n(t,a):i=h.isURLSearchParams(t)?t.toString():new ns(t,a).toString(r),i){const o=s.indexOf("#");o!==-1&&(s=s.slice(0,o)),s+=(s.indexOf("?")===-1?"?":"&")+i}return s}class ps{constructor(){this.handlers=[]}use(t,a,r){return this.handlers.push({fulfilled:t,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){h.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Qs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sa=typeof URLSearchParams<"u"?URLSearchParams:ns,Ea=typeof FormData<"u"?FormData:null,Ca=typeof Blob<"u"?Blob:null,Ra={isBrowser:!0,classes:{URLSearchParams:Sa,FormData:Ea,Blob:Ca},protocols:["http","https","file","blob","url","data"]},is=typeof window<"u"&&typeof document<"u",Qe=typeof navigator=="object"&&navigator||void 0,_a=is&&(!Qe||["ReactNative","NativeScript","NS"].indexOf(Qe.product)<0),Oa=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ta=is&&window.location.href||"http://localhost",ka=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:is,hasStandardBrowserEnv:_a,hasStandardBrowserWebWorkerEnv:Oa,navigator:Qe,origin:Ta},Symbol.toStringTag,{value:"Module"})),q={...ka,...Ra};function Pa(s,t){return Be(s,new q.classes.URLSearchParams,Object.assign({visitor:function(a,r,n,i){return q.isNode&&h.isBuffer(a)?(this.append(r,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function La(s){return h.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Fa(s){const t={},a=Object.keys(s);let r;const n=a.length;let i;for(r=0;r<n;r++)i=a[r],t[i]=s[i];return t}function Ys(s){function t(a,r,n,i){let o=a[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=a.length;return o=!o&&h.isArray(n)?n.length:o,u?(h.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!l):((!n[o]||!h.isObject(n[o]))&&(n[o]=[]),t(a,r,n[o],i)&&h.isArray(n[o])&&(n[o]=Fa(n[o])),!l)}if(h.isFormData(s)&&h.isFunction(s.entries)){const a={};return h.forEachEntry(s,(r,n)=>{t(La(r),n,a,0)}),a}return null}function Da(s,t,a){if(h.isString(s))try{return(t||JSON.parse)(s),h.trim(s)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(s)}const ye={transitional:Qs,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,i=h.isObject(t);if(i&&h.isHTMLForm(t)&&(t=new FormData(t)),h.isFormData(t))return n?JSON.stringify(Ys(t)):t;if(h.isArrayBuffer(t)||h.isBuffer(t)||h.isStream(t)||h.isFile(t)||h.isBlob(t)||h.isReadableStream(t))return t;if(h.isArrayBufferView(t))return t.buffer;if(h.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Pa(t,this.formSerializer).toString();if((l=h.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Be(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||n?(a.setContentType("application/json",!1),Da(t)):t}],transformResponse:[function(t){const a=this.transitional||ye.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(h.isResponse(t)||h.isReadableStream(t))return t;if(t&&h.isString(t)&&(r&&!this.responseType||n)){const o=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?C.from(l,C.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:q.classes.FormData,Blob:q.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};h.forEach(["delete","get","head","post","put","patch"],s=>{ye.headers[s]={}});const Ma=h.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ba=s=>{const t={};let a,r,n;return s&&s.split(`
`).forEach(function(o){n=o.indexOf(":"),a=o.substring(0,n).trim().toLowerCase(),r=o.substring(n+1).trim(),!(!a||t[a]&&Ma[a])&&(a==="set-cookie"?t[a]?t[a].push(r):t[a]=[r]:t[a]=t[a]?t[a]+", "+r:r)}),t},gs=Symbol("internals");function xe(s){return s&&String(s).trim().toLowerCase()}function Se(s){return s===!1||s==null?s:h.isArray(s)?s.map(Se):String(s)}function Ua(s){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(s);)t[r[1]]=r[2];return t}const za=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Ie(s,t,a,r,n){if(h.isFunction(r))return r.call(this,t,a);if(n&&(t=a),!!h.isString(t)){if(h.isString(r))return t.indexOf(r)!==-1;if(h.isRegExp(r))return r.test(t)}}function Ia(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,r)=>a.toUpperCase()+r)}function qa(s,t){const a=h.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(s,r+a,{value:function(n,i,o){return this[r].call(this,t,n,i,o)},configurable:!0})})}let J=class{constructor(t){t&&this.set(t)}set(t,a,r){const n=this;function i(l,u,m){const d=xe(u);if(!d)throw new Error("header name must be a non-empty string");const c=h.findKey(n,d);(!c||n[c]===void 0||m===!0||m===void 0&&n[c]!==!1)&&(n[c||u]=Se(l))}const o=(l,u)=>h.forEach(l,(m,d)=>i(m,d,u));if(h.isPlainObject(t)||t instanceof this.constructor)o(t,a);else if(h.isString(t)&&(t=t.trim())&&!za(t))o(Ba(t),a);else if(h.isObject(t)&&h.isIterable(t)){let l={},u,m;for(const d of t){if(!h.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[m=d[0]]=(u=l[m])?h.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}o(l,a)}else t!=null&&i(a,t,r);return this}get(t,a){if(t=xe(t),t){const r=h.findKey(this,t);if(r){const n=this[r];if(!a)return n;if(a===!0)return Ua(n);if(h.isFunction(a))return a.call(this,n,r);if(h.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=xe(t),t){const r=h.findKey(this,t);return!!(r&&this[r]!==void 0&&(!a||Ie(this,this[r],r,a)))}return!1}delete(t,a){const r=this;let n=!1;function i(o){if(o=xe(o),o){const l=h.findKey(r,o);l&&(!a||Ie(r,r[l],l,a))&&(delete r[l],n=!0)}}return h.isArray(t)?t.forEach(i):i(t),n}clear(t){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const i=a[r];(!t||Ie(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const a=this,r={};return h.forEach(this,(n,i)=>{const o=h.findKey(r,i);if(o){a[o]=Se(n),delete a[i];return}const l=t?Ia(i):String(i).trim();l!==i&&delete a[i],a[l]=Se(n),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return h.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=t&&h.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const r=new this(t);return a.forEach(n=>r.set(n)),r}static accessor(t){const r=(this[gs]=this[gs]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=xe(o);r[l]||(qa(n,o),r[l]=!0)}return h.isArray(t)?t.forEach(i):i(t),this}};J.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);h.reduceDescriptors(J.prototype,({value:s},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(r){this[a]=r}}});h.freezeMethods(J);function qe(s,t){const a=this||ye,r=t||a,n=J.from(r.headers);let i=r.data;return h.forEach(s,function(l){i=l.call(a,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function Zs(s){return!!(s&&s.__CANCEL__)}function he(s,t,a){C.call(this,s??"canceled",C.ERR_CANCELED,t,a),this.name="CanceledError"}h.inherits(he,C,{__CANCEL__:!0});function et(s,t,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?s(a):t(new C("Request failed with status code "+a.status,[C.ERR_BAD_REQUEST,C.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function $a(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function Va(s,t){s=s||10;const a=new Array(s),r=new Array(s);let n=0,i=0,o;return t=t!==void 0?t:1e3,function(u){const m=Date.now(),d=r[i];o||(o=m),a[n]=u,r[n]=m;let c=i,j=0;for(;c!==n;)j+=a[c++],c=c%s;if(n=(n+1)%s,n===i&&(i=(i+1)%s),m-o<t)return;const f=d&&m-d;return f?Math.round(j*1e3/f):void 0}}function Ha(s,t){let a=0,r=1e3/t,n,i;const o=(m,d=Date.now())=>{a=d,n=null,i&&(clearTimeout(i),i=null),s.apply(null,m)};return[(...m)=>{const d=Date.now(),c=d-a;c>=r?o(m,d):(n=m,i||(i=setTimeout(()=>{i=null,o(n)},r-c)))},()=>n&&o(n)]}const Re=(s,t,a=3)=>{let r=0;const n=Va(50,250);return Ha(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-r,m=n(u),d=o<=l;r=o;const c={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:m||void 0,estimated:m&&l&&d?(l-o)/m:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};s(c)},a)},js=(s,t)=>{const a=s!=null;return[r=>t[0]({lengthComputable:a,total:s,loaded:r}),t[1]]},Ns=s=>(...t)=>h.asap(()=>s(...t)),Ja=q.hasStandardBrowserEnv?((s,t)=>a=>(a=new URL(a,q.origin),s.protocol===a.protocol&&s.host===a.host&&(t||s.port===a.port)))(new URL(q.origin),q.navigator&&/(msie|trident)/i.test(q.navigator.userAgent)):()=>!0,Wa=q.hasStandardBrowserEnv?{write(s,t,a,r,n,i){const o=[s+"="+encodeURIComponent(t)];h.isNumber(a)&&o.push("expires="+new Date(a).toGMTString()),h.isString(r)&&o.push("path="+r),h.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(s){const t=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ga(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function Ka(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function st(s,t,a){let r=!Ga(t);return s&&(r||a==!1)?Ka(s,t):t}const bs=s=>s instanceof J?{...s}:s;function le(s,t){t=t||{};const a={};function r(m,d,c,j){return h.isPlainObject(m)&&h.isPlainObject(d)?h.merge.call({caseless:j},m,d):h.isPlainObject(d)?h.merge({},d):h.isArray(d)?d.slice():d}function n(m,d,c,j){if(h.isUndefined(d)){if(!h.isUndefined(m))return r(void 0,m,c,j)}else return r(m,d,c,j)}function i(m,d){if(!h.isUndefined(d))return r(void 0,d)}function o(m,d){if(h.isUndefined(d)){if(!h.isUndefined(m))return r(void 0,m)}else return r(void 0,d)}function l(m,d,c){if(c in t)return r(m,d);if(c in s)return r(void 0,m)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(m,d,c)=>n(bs(m),bs(d),c,!0)};return h.forEach(Object.keys(Object.assign({},s,t)),function(d){const c=u[d]||n,j=c(s[d],t[d],d);h.isUndefined(j)&&c!==l||(a[d]=j)}),a}const tt=s=>{const t=le({},s);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=J.from(o),t.url=Xs(st(t.baseURL,t.url,t.allowAbsoluteUrls),s.params,s.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(h.isFormData(a)){if(q.hasStandardBrowserEnv||q.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[m,...d]=u?u.split(";").map(c=>c.trim()).filter(Boolean):[];o.setContentType([m||"multipart/form-data",...d].join("; "))}}if(q.hasStandardBrowserEnv&&(r&&h.isFunction(r)&&(r=r(t)),r||r!==!1&&Ja(t.url))){const m=n&&i&&Wa.read(i);m&&o.set(n,m)}return t},Xa=typeof XMLHttpRequest<"u",Qa=Xa&&function(s){return new Promise(function(a,r){const n=tt(s);let i=n.data;const o=J.from(n.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:m}=n,d,c,j,f,g;function N(){f&&f(),g&&g(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(n.method.toUpperCase(),n.url,!0),x.timeout=n.timeout;function A(){if(!x)return;const R=J.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:R,config:s,request:x};et(function(M){a(M),N()},function(M){r(M),N()},k),x=null}"onloadend"in x?x.onloadend=A:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(A)},x.onabort=function(){x&&(r(new C("Request aborted",C.ECONNABORTED,s,x)),x=null)},x.onerror=function(){r(new C("Network Error",C.ERR_NETWORK,s,x)),x=null},x.ontimeout=function(){let w=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const k=n.transitional||Qs;n.timeoutErrorMessage&&(w=n.timeoutErrorMessage),r(new C(w,k.clarifyTimeoutError?C.ETIMEDOUT:C.ECONNABORTED,s,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&h.forEach(o.toJSON(),function(w,k){x.setRequestHeader(k,w)}),h.isUndefined(n.withCredentials)||(x.withCredentials=!!n.withCredentials),l&&l!=="json"&&(x.responseType=n.responseType),m&&([j,g]=Re(m,!0),x.addEventListener("progress",j)),u&&x.upload&&([c,f]=Re(u),x.upload.addEventListener("progress",c),x.upload.addEventListener("loadend",f)),(n.cancelToken||n.signal)&&(d=R=>{x&&(r(!R||R.type?new he(null,s,x):R),x.abort(),x=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const S=$a(n.url);if(S&&q.protocols.indexOf(S)===-1){r(new C("Unsupported protocol "+S+":",C.ERR_BAD_REQUEST,s));return}x.send(i||null)})},Ya=(s,t)=>{const{length:a}=s=s?s.filter(Boolean):[];if(t||a){let r=new AbortController,n;const i=function(m){if(!n){n=!0,l();const d=m instanceof Error?m:this.reason;r.abort(d instanceof C?d:new he(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new C(`timeout ${t} of ms exceeded`,C.ETIMEDOUT))},t);const l=()=>{s&&(o&&clearTimeout(o),o=null,s.forEach(m=>{m.unsubscribe?m.unsubscribe(i):m.removeEventListener("abort",i)}),s=null)};s.forEach(m=>m.addEventListener("abort",i));const{signal:u}=r;return u.unsubscribe=()=>h.asap(l),u}},Za=function*(s,t){let a=s.byteLength;if(a<t){yield s;return}let r=0,n;for(;r<a;)n=r+t,yield s.slice(r,n),r=n},er=async function*(s,t){for await(const a of sr(s))yield*Za(a,t)},sr=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:a,value:r}=await t.read();if(a)break;yield r}}finally{await t.cancel()}},vs=(s,t,a,r)=>{const n=er(s,t);let i=0,o,l=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:m,value:d}=await n.next();if(m){l(),u.close();return}let c=d.byteLength;if(a){let j=i+=c;a(j)}u.enqueue(new Uint8Array(d))}catch(m){throw l(m),m}},cancel(u){return l(u),n.return()}},{highWaterMark:2})},Ue=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",at=Ue&&typeof ReadableStream=="function",tr=Ue&&(typeof TextEncoder=="function"?(s=>t=>s.encode(t))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),rt=(s,...t)=>{try{return!!s(...t)}catch{return!1}},ar=at&&rt(()=>{let s=!1;const t=new Request(q.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!t}),ys=64*1024,Ye=at&&rt(()=>h.isReadableStream(new Response("").body)),_e={stream:Ye&&(s=>s.body)};Ue&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!_e[t]&&(_e[t]=h.isFunction(s[t])?a=>a[t]():(a,r)=>{throw new C(`Response type '${t}' is not supported`,C.ERR_NOT_SUPPORT,r)})})})(new Response);const rr=async s=>{if(s==null)return 0;if(h.isBlob(s))return s.size;if(h.isSpecCompliantForm(s))return(await new Request(q.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(h.isArrayBufferView(s)||h.isArrayBuffer(s))return s.byteLength;if(h.isURLSearchParams(s)&&(s=s+""),h.isString(s))return(await tr(s)).byteLength},nr=async(s,t)=>{const a=h.toFiniteNumber(s.getContentLength());return a??rr(t)},ir=Ue&&(async s=>{let{url:t,method:a,data:r,signal:n,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:m,headers:d,withCredentials:c="same-origin",fetchOptions:j}=tt(s);m=m?(m+"").toLowerCase():"text";let f=Ya([n,i&&i.toAbortSignal()],o),g;const N=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let x;try{if(u&&ar&&a!=="get"&&a!=="head"&&(x=await nr(d,r))!==0){let k=new Request(t,{method:"POST",body:r,duplex:"half"}),v;if(h.isFormData(r)&&(v=k.headers.get("content-type"))&&d.setContentType(v),k.body){const[M,F]=js(x,Re(Ns(u)));r=vs(k.body,ys,M,F)}}h.isString(c)||(c=c?"include":"omit");const A="credentials"in Request.prototype;g=new Request(t,{...j,signal:f,method:a.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:A?c:void 0});let S=await fetch(g);const R=Ye&&(m==="stream"||m==="response");if(Ye&&(l||R&&N)){const k={};["status","statusText","headers"].forEach(I=>{k[I]=S[I]});const v=h.toFiniteNumber(S.headers.get("content-length")),[M,F]=l&&js(v,Re(Ns(l),!0))||[];S=new Response(vs(S.body,ys,M,()=>{F&&F(),N&&N()}),k)}m=m||"text";let w=await _e[h.findKey(_e,m)||"text"](S,s);return!R&&N&&N(),await new Promise((k,v)=>{et(k,v,{data:w,headers:J.from(S.headers),status:S.status,statusText:S.statusText,config:s,request:g})})}catch(A){throw N&&N(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new C("Network Error",C.ERR_NETWORK,s,g),{cause:A.cause||A}):C.from(A,A&&A.code,s,g)}}),Ze={http:va,xhr:Qa,fetch:ir};h.forEach(Ze,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const ws=s=>`- ${s}`,or=s=>h.isFunction(s)||s===null||s===!1,nt={getAdapter:s=>{s=h.isArray(s)?s:[s];const{length:t}=s;let a,r;const n={};for(let i=0;i<t;i++){a=s[i];let o;if(r=a,!or(a)&&(r=Ze[(o=String(a)).toLowerCase()],r===void 0))throw new C(`Unknown adapter '${o}'`);if(r)break;n[o||"#"+i]=r}if(!r){const i=Object.entries(n).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(ws).join(`
`):" "+ws(i[0]):"as no adapter specified";throw new C("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Ze};function $e(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new he(null,s)}function As(s){return $e(s),s.headers=J.from(s.headers),s.data=qe.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),nt.getAdapter(s.adapter||ye.adapter)(s).then(function(r){return $e(s),r.data=qe.call(s,s.transformResponse,r),r.headers=J.from(r.headers),r},function(r){return Zs(r)||($e(s),r&&r.response&&(r.response.data=qe.call(s,s.transformResponse,r.response),r.response.headers=J.from(r.response.headers))),Promise.reject(r)})}const it="1.9.0",ze={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{ze[s]=function(r){return typeof r===s||"a"+(t<1?"n ":" ")+s}});const Ss={};ze.transitional=function(t,a,r){function n(i,o){return"[Axios v"+it+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new C(n(o," has been removed"+(a?" in "+a:"")),C.ERR_DEPRECATED);return a&&!Ss[o]&&(Ss[o]=!0,console.warn(n(o," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(i,o,l):!0}};ze.spelling=function(t){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function lr(s,t,a){if(typeof s!="object")throw new C("options must be an object",C.ERR_BAD_OPTION_VALUE);const r=Object.keys(s);let n=r.length;for(;n-- >0;){const i=r[n],o=t[i];if(o){const l=s[i],u=l===void 0||o(l,i,s);if(u!==!0)throw new C("option "+i+" must be "+u,C.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new C("Unknown option "+i,C.ERR_BAD_OPTION)}}const Ee={assertOptions:lr,validators:ze},Y=Ee.validators;let ie=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ps,response:new ps}}async request(t,a){try{return await this._request(t,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=le(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:i}=a;r!==void 0&&Ee.assertOptions(r,{silentJSONParsing:Y.transitional(Y.boolean),forcedJSONParsing:Y.transitional(Y.boolean),clarifyTimeoutError:Y.transitional(Y.boolean)},!1),n!=null&&(h.isFunction(n)?a.paramsSerializer={serialize:n}:Ee.assertOptions(n,{encode:Y.function,serialize:Y.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Ee.assertOptions(a,{baseUrl:Y.spelling("baseURL"),withXsrfToken:Y.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let o=i&&h.merge(i.common,i[a.method]);i&&h.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),a.headers=J.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(a)===!1||(u=u&&N.synchronous,l.unshift(N.fulfilled,N.rejected))});const m=[];this.interceptors.response.forEach(function(N){m.push(N.fulfilled,N.rejected)});let d,c=0,j;if(!u){const g=[As.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,m),j=g.length,d=Promise.resolve(a);c<j;)d=d.then(g[c++],g[c++]);return d}j=l.length;let f=a;for(c=0;c<j;){const g=l[c++],N=l[c++];try{f=g(f)}catch(x){N.call(this,x);break}}try{d=As.call(this,f)}catch(g){return Promise.reject(g)}for(c=0,j=m.length;c<j;)d=d.then(m[c++],m[c++]);return d}getUri(t){t=le(this.defaults,t);const a=st(t.baseURL,t.url,t.allowAbsoluteUrls);return Xs(a,t.params,t.paramsSerializer)}};h.forEach(["delete","get","head","options"],function(t){ie.prototype[t]=function(a,r){return this.request(le(r||{},{method:t,url:a,data:(r||{}).data}))}});h.forEach(["post","put","patch"],function(t){function a(r){return function(i,o,l){return this.request(le(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ie.prototype[t]=a(),ie.prototype[t+"Form"]=a(!0)});let cr=class ot{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new he(i,o,l),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=r=>{t.abort(r)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new ot(function(n){t=n}),cancel:t}}};function dr(s){return function(a){return s.apply(null,a)}}function mr(s){return h.isObject(s)&&s.isAxiosError===!0}const es={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(es).forEach(([s,t])=>{es[t]=s});function lt(s){const t=new ie(s),a=Bs(ie.prototype.request,t);return h.extend(a,ie.prototype,t,{allOwnKeys:!0}),h.extend(a,t,null,{allOwnKeys:!0}),a.create=function(n){return lt(le(s,n))},a}const B=lt(ye);B.Axios=ie;B.CanceledError=he;B.CancelToken=cr;B.isCancel=Zs;B.VERSION=it;B.toFormData=Be;B.AxiosError=C;B.Cancel=B.CanceledError;B.all=function(t){return Promise.all(t)};B.spread=dr;B.isAxiosError=mr;B.mergeConfig=le;B.AxiosHeaders=J;B.formToJSON=s=>Ys(h.isHTMLForm(s)?new FormData(s):s);B.getAdapter=nt.getAdapter;B.HttpStatusCode=es;B.default=B;const{Axios:Vr,AxiosError:Hr,CanceledError:Jr,isCancel:Wr,CancelToken:Gr,VERSION:Kr,all:Xr,Cancel:Qr,isAxiosError:Yr,spread:Zr,toFormData:en,AxiosHeaders:sn,HttpStatusCode:tn,formToJSON:an,getAdapter:rn,mergeConfig:nn}=B,ur="http://localhost:5000/api",D=B.create({baseURL:ur,timeout:1e4});D.interceptors.request.use(s=>{const t=localStorage.getItem("token");return t&&(s.headers.Authorization=`Bearer ${t}`),s});D.interceptors.response.use(s=>s,s=>{var t;return((t=s.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(s)});const ss={register:s=>D.post("/auth/register",s),login:s=>D.post("/auth/login",s),getProfile:()=>D.get("/auth/profile")},me={getAll:s=>D.get("/animacoes",{params:s}),getById:s=>D.get(`/animacoes/${s}`),create:s=>D.post("/animacoes",s),update:(s,t)=>D.put(`/animacoes/${s}`,t),delete:s=>D.delete(`/animacoes/${s}`)},re={create:s=>D.post("/avaliacoes",s),update:(s,t)=>D.put(`/avaliacoes/${s}`,t),delete:s=>D.delete(`/avaliacoes/${s}`),getByAnimacao:(s,t)=>D.get(`/avaliacoes/animacao/${s}`,{params:t}),getMinhas:s=>D.get("/avaliacoes/minhas",{params:s}),reportar:(s,t)=>D.post(`/avaliacoes/${s}/reportar`,t)},oe={add:s=>D.post("/lista",s),remove:s=>D.delete(`/lista/${s}`),getMinha:s=>D.get("/lista/minha",{params:s})},ct={getAll:()=>D.get("/generos"),create:s=>D.post("/generos",s)},Ve={getDashboard:()=>D.get("/stats/dashboard"),getRecentAnimacoes:s=>D.get("/stats/animacoes/recentes",{params:s}),getUsuariosRecentes:s=>D.get("/stats/usuarios/recentes",{params:s})},dt=p.createContext(),Z=()=>{const s=p.useContext(dt);if(!s)throw new Error("useAuth deve ser usado dentro de AuthProvider");return s},hr=({children:s})=>{const[t,a]=p.useState(null),[r,n]=p.useState(!0);p.useEffect(()=>{const d=localStorage.getItem("token"),c=localStorage.getItem("user");d&&c&&a(JSON.parse(c)),n(!1)},[]);const m={user:t,login:async d=>{var c,j;try{const f=await ss.login(d),{token:g,user:N}=f.data;return localStorage.setItem("token",g),localStorage.setItem("user",JSON.stringify(N)),a(N),{success:!0}}catch(f){return{success:!1,error:((j=(c=f.response)==null?void 0:c.data)==null?void 0:j.error)||"Erro ao fazer login"}}},register:async d=>{var c,j;try{const f=await ss.register(d),{token:g,user:N}=f.data;return localStorage.setItem("token",g),localStorage.setItem("user",JSON.stringify(N)),a(N),{success:!0}}catch(f){return{success:!1,error:((j=(c=f.response)==null?void 0:c.data)==null?void 0:j.error)||"Erro ao criar conta"}}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),a(null)},isAdmin:()=>(t==null?void 0:t.role)==="admin",isAuthenticated:!!t,loading:r};return e.jsx(dt.Provider,{value:m,children:s})};function Es(s,t){if(typeof s=="function")return s(t);s!=null&&(s.current=t)}function xr(...s){return t=>{let a=!1;const r=s.map(n=>{const i=Es(n,t);return!a&&typeof i=="function"&&(a=!0),i});if(a)return()=>{for(let n=0;n<r.length;n++){const i=r[n];typeof i=="function"?i():Es(s[n],null)}}}}function fr(s){const t=gr(s),a=p.forwardRef((r,n)=>{const{children:i,...o}=r,l=p.Children.toArray(i),u=l.find(Nr);if(u){const m=u.props.children,d=l.map(c=>c===u?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:c);return e.jsx(t,{...o,ref:n,children:p.isValidElement(m)?p.cloneElement(m,void 0,d):null})}return e.jsx(t,{...o,ref:n,children:i})});return a.displayName=`${s}.Slot`,a}var pr=fr("Slot");function gr(s){const t=p.forwardRef((a,r)=>{const{children:n,...i}=a;if(p.isValidElement(n)){const o=vr(n),l=br(i,n.props);return n.type!==p.Fragment&&(l.ref=r?xr(r,o):o),p.cloneElement(n,l)}return p.Children.count(n)>1?p.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var jr=Symbol("radix.slottable");function Nr(s){return p.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===jr}function br(s,t){const a={...t};for(const r in t){const n=s[r],i=t[r];/^on[A-Z]/.test(r)?n&&i?a[r]=(...l)=>{const u=i(...l);return n(...l),u}:n&&(a[r]=n):r==="style"?a[r]={...n,...i}:r==="className"&&(a[r]=[n,i].filter(Boolean).join(" "))}return{...s,...a}}function vr(s){var r,n;let t=(r=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:r.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?s.ref:(t=(n=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:n.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?s.props.ref:s.props.ref||s.ref)}const Cs=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Rs=_s,mt=(s,t)=>a=>{var r;if((t==null?void 0:t.variants)==null)return Rs(s,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:n,defaultVariants:i}=t,o=Object.keys(n).map(m=>{const d=a==null?void 0:a[m],c=i==null?void 0:i[m];if(d===null)return null;const j=Cs(d)||Cs(c);return n[m][j]}),l=a&&Object.entries(a).reduce((m,d)=>{let[c,j]=d;return j===void 0||(m[c]=j),m},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,d)=>{let{class:c,className:j,...f}=d;return Object.entries(f).every(g=>{let[N,x]=g;return Array.isArray(x)?x.includes({...i,...l}[N]):{...i,...l}[N]===x})?[...m,c,j]:m},[]);return Rs(s,o,u,a==null?void 0:a.class,a==null?void 0:a.className)};function Q(...s){return vt(_s(s))}const ee=s=>new Date(s).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"}),Oe=s=>{const t=parseFloat(s);return isNaN(t)?"0.0":t.toFixed(1)},ts=s=>({"Em exibição":"bg-green-100 text-green-800",Finalizado:"bg-blue-100 text-blue-800",Cancelado:"bg-red-100 text-red-800",Anunciado:"bg-yellow-100 text-yellow-800"})[s]||"bg-gray-100 text-gray-800",yr=s=>({assistido:"bg-green-100 text-green-800",desejado:"bg-blue-100 text-blue-800",assistindo:"bg-yellow-100 text-yellow-800",pausado:"bg-orange-100 text-orange-800",abandonado:"bg-red-100 text-red-800"})[s]||"bg-gray-100 text-gray-800",wr=mt("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),b=p.forwardRef(({className:s,variant:t,size:a,asChild:r=!1,...n},i)=>{const o=r?pr:"button";return e.jsx(o,{className:Q(wr({variant:t,size:a,className:s})),ref:i,...n})});b.displayName="Button";const U=p.forwardRef(({className:s,type:t,...a},r)=>e.jsx("input",{type:t,className:Q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...a}));U.displayName="Input";const Ar=()=>{const[s,t]=p.useState(!1),[a,r]=p.useState(""),{user:n,logout:i,isAuthenticated:o,isAdmin:l}=Z(),u=ce(),m=c=>{c.preventDefault(),a.trim()&&(u(`/buscar?q=${encodeURIComponent(a.trim())}`),r(""))},d=()=>{i(),u("/")};return e.jsxs("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[e.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs(E,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:e.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"A"})}),e.jsx("span",{className:"font-bold text-xl",children:"AnimaList"})]}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[e.jsx(E,{to:"/explorar",className:"text-sm font-medium hover:text-primary transition-colors",children:"Explorar"}),e.jsx(E,{to:"/lancamentos",className:"text-sm font-medium hover:text-primary transition-colors",children:"Lançamentos"}),o&&e.jsx(E,{to:"/minha-lista",className:"text-sm font-medium hover:text-primary transition-colors",children:"Minha Lista"}),o&&e.jsx(E,{to:"/minhas-avaliacoes",className:"text-sm font-medium hover:text-primary transition-colors",children:"Minhas Avaliações"}),o&&l&&l()&&e.jsxs(E,{to:"/admin/dashboard",className:"text-sm font-medium hover:text-primary transition-colors flex items-center gap-1",children:[e.jsx(cs,{className:"h-4 w-4"}),"Dashboard"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("form",{onSubmit:m,className:"hidden md:flex items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(U,{type:"search",placeholder:"Buscar animações...",value:a,onChange:c=>r(c.target.value),className:"pl-10 w-64"})]})}),o?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{to:"/perfil",children:e.jsx(b,{variant:"ghost",size:"icon",children:e.jsx(We,{className:"h-4 w-4"})})}),e.jsx(b,{variant:"ghost",size:"icon",onClick:d,children:e.jsx(ds,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsx(E,{to:"/login",children:e.jsx(b,{variant:"ghost",children:"Entrar"})}),e.jsx(E,{to:"/registro",children:e.jsx(b,{children:"Criar Conta"})})]}),e.jsx(b,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>t(!s),children:s?e.jsx(je,{className:"h-4 w-4"}):e.jsx(yt,{className:"h-4 w-4"})})]})]}),s&&e.jsx("div",{className:"md:hidden border-t bg-background",children:e.jsxs("div",{className:"container py-4 space-y-4",children:[e.jsx("form",{onSubmit:m,className:"flex items-center",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(U,{type:"search",placeholder:"Buscar animações...",value:a,onChange:c=>r(c.target.value),className:"pl-10"})]})}),e.jsxs("nav",{className:"flex flex-col space-y-2",children:[e.jsx(E,{to:"/explorar",className:"text-sm font-medium hover:text-primary transition-colors py-2",onClick:()=>t(!1),children:"Explorar"}),e.jsx(E,{to:"/lancamentos",className:"text-sm font-medium hover:text-primary transition-colors py-2",onClick:()=>t(!1),children:"Lançamentos"}),o&&e.jsx(E,{to:"/minha-lista",className:"text-sm font-medium hover:text-primary transition-colors py-2",onClick:()=>t(!1),children:"Minha Lista"}),o&&e.jsx(E,{to:"/minhas-avaliacoes",className:"text-sm font-medium hover:text-primary transition-colors py-2",onClick:()=>t(!1),children:"Minhas Avaliações"}),o&&l&&l()&&e.jsxs(E,{to:"/admin/dashboard",className:"text-sm font-medium hover:text-primary transition-colors py-2 flex items-center gap-2",onClick:()=>t(!1),children:[e.jsx(cs,{className:"h-4 w-4"}),"Dashboard Admin"]})]}),o?e.jsxs("div",{className:"flex flex-col gap-2 pt-4 border-t",children:[e.jsx(E,{to:"/perfil",onClick:()=>t(!1),children:e.jsxs(b,{variant:"ghost",className:"w-full justify-start",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Meu Perfil"]})}),e.jsxs(b,{variant:"ghost",className:"w-full justify-start",onClick:d,children:[e.jsx(ds,{className:"h-4 w-4 mr-2"}),"Sair"]})]}):e.jsxs("div",{className:"flex flex-col gap-2 pt-4 border-t",children:[e.jsx(E,{to:"/login",onClick:()=>t(!1),children:e.jsx(b,{variant:"ghost",className:"w-full justify-start",children:"Entrar"})}),e.jsx(E,{to:"/registro",onClick:()=>t(!1),children:e.jsx(b,{className:"w-full",children:"Criar Conta"})})]})]})})]})},Sr=()=>e.jsx("footer",{className:"border-t bg-muted/50",children:e.jsxs("div",{className:"container py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:e.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"A"})}),e.jsx("span",{className:"font-bold text-xl",children:"AnimaList"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"A plataforma definitiva para descobrir, avaliar e organizar suas animações favoritas."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Explorar"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(E,{to:"/explorar",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Todas as Animações"})}),e.jsx("li",{children:e.jsx(E,{to:"/lancamentos",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Lançamentos"})}),e.jsx("li",{children:e.jsx(E,{to:"/generos",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Gêneros"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Conta"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(E,{to:"/perfil",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Meu Perfil"})}),e.jsx("li",{children:e.jsx(E,{to:"/minha-lista",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Minha Lista"})}),e.jsx("li",{children:e.jsx(E,{to:"/avaliacoes",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Minhas Avaliações"})}),e.jsx("li",{children:e.jsx(E,{to:"/minhas-avaliacoes",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Minhas Avaliações"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Suporte"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(E,{to:"/ajuda",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Central de Ajuda"})}),e.jsx("li",{children:e.jsx(E,{to:"/contato",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Contato"})}),e.jsx("li",{children:e.jsx(E,{to:"/termos",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Termos de Uso"})})]})]})]}),e.jsx("div",{className:"mt-8 pt-8 border-t text-center text-sm text-muted-foreground",children:e.jsx("p",{children:"© 2024 AnimaList. Todos os direitos reservados."})})]})}),de=({size:s="default",className:t=""})=>{const a={small:"h-4 w-4",default:"h-8 w-8",large:"h-12 w-12"};return e.jsx("div",{className:`loading-spinner ${a[s]} ${t}`})},Er=({children:s,adminOnly:t=!1})=>{const{isAuthenticated:a,isAdmin:r,loading:n}=Z();return n?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(de,{size:"large"})}):a?t&&!r()?e.jsx(ls,{to:"/",replace:!0}):s:e.jsx(ls,{to:"/login",replace:!0})},O=p.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:Q("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t}));O.displayName="Card";const P=p.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:Q("flex flex-col space-y-1.5 p-6",s),...t}));P.displayName="CardHeader";const L=p.forwardRef(({className:s,...t},a)=>e.jsx("h3",{ref:a,className:Q("text-2xl font-semibold leading-none tracking-tight",s),...t}));L.displayName="CardTitle";const os=p.forwardRef(({className:s,...t},a)=>e.jsx("p",{ref:a,className:Q("text-sm text-muted-foreground",s),...t}));os.displayName="CardDescription";const T=p.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:Q("p-6 pt-0",s),...t}));T.displayName="CardContent";const Cr=p.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:Q("flex items-center p-6 pt-0",s),...t}));Cr.displayName="CardFooter";const Rr=mt("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $({className:s,variant:t,...a}){return e.jsx("div",{className:Q(Rr({variant:t}),s),...a})}const fe=({anime:s,showActions:t=!0})=>{var c;const[a,r]=p.useState(!1),[n,i]=p.useState(!1),{isAuthenticated:o}=Z(),l=ce();if(!s||!s.id)return null;const u=async(j,f)=>{if(f.preventDefault(),f.stopPropagation(),!!o){i(!0);try{await oe.add({animacao_id:s.id,status:j}),r(!0)}catch(g){console.error("Erro ao adicionar à lista:",g)}finally{i(!1)}}},m=()=>{console.log("Navegando para anime:",s.id),l(`/anime/${s.id}`)},d=typeof s.generos=="string"?s.generos.split(",").slice(0,2):((c=s.generos)==null?void 0:c.slice(0,2))||[];return e.jsx(O,{className:"anime-card group cursor-pointer",onClick:m,children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.poster_url||"/placeholder.svg?height=400&width=300",alt:s.titulo,className:"anime-card-image",onError:j=>{j.target.src="/placeholder.svg?height=400&width=300"}}),e.jsx("div",{className:"anime-card-overlay",children:e.jsxs("div",{className:"anime-card-content",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:s.titulo}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{className:"h-4 w-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:Oe(s.nota_media)})]}),e.jsxs("span",{className:"text-xs text-gray-300",children:["(",s.total_avaliacoes||0," avaliações)"]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:d.map((j,f)=>e.jsx($,{variant:"secondary",className:"text-xs",children:typeof j=="object"?j.nome:j},f))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(b,{size:"sm",className:"gap-2",onClick:j=>{j.stopPropagation(),l(`/anime/${s.id}`)},children:[e.jsx(Ce,{className:"h-3 w-3"}),"Ver Detalhes"]}),t&&o&&e.jsxs("div",{className:"flex gap-1",children:[e.jsx(b,{size:"icon",variant:"ghost",className:"h-8 w-8 text-white hover:text-red-400",onClick:j=>u("desejado",j),disabled:n,children:e.jsx(as,{className:"h-4 w-4"})}),e.jsx(b,{size:"icon",variant:"ghost",className:"h-8 w-8 text-white hover:text-blue-400",onClick:j=>u("assistido",j),disabled:n,children:e.jsx(Te,{className:"h-4 w-4"})})]})]})]})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx($,{className:ts(s.status),children:s.status})}),s.ano_lancamento&&e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx($,{variant:"outline",className:"bg-black/50 text-white border-white/20",children:s.ano_lancamento})})]})})},_r=()=>{const[s,t]=p.useState([]),[a,r]=p.useState([]),[n,i]=p.useState([]),[o,l]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const[m,d,c]=await Promise.all([me.getAll({limit:6,status:"Em exibição"}),me.getAll({limit:6}),me.getAll({limit:6,orderBy:"nota_media"})]);t(m.data.animacoes),r(d.data.animacoes),i(c.data.animacoes)}catch(m){console.error("Erro ao carregar dados:",m)}finally{l(!1)}})()},[]),o?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(de,{size:"large"})}):e.jsxs("div",{className:"space-y-12",children:[e.jsx("section",{className:"relative bg-gradient-to-r from-primary/10 to-secondary/10 rounded-lg p-8 md:p-12",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:["Descubra o mundo das",e.jsx("span",{className:"text-primary",children:" ANIMAÇÕES"})]}),e.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Avalie, organize e descubra suas próximas animações favoritas em uma plataforma feita por fãs, para fãs."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(E,{to:"/explorar",children:e.jsx(b,{size:"lg",className:"w-full sm:w-auto",children:"Explorar Animações"})}),e.jsx(E,{to:"/registro"})]})]})}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"h-6 w-6 text-primary"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Em Exibição"})]}),e.jsx(E,{to:"/explorar?status=Em exibição",children:e.jsx(b,{variant:"ghost",children:"Ver Todos"})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:s.map(u=>e.jsx(fe,{anime:u},u.id))})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-6 w-6 text-primary"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Adicionados Recentemente"})]}),e.jsx(E,{to:"/explorar",children:e.jsx(b,{variant:"ghost",children:"Ver Todos"})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:a.map(u=>e.jsx(fe,{anime:u},u.id))})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-6 w-6 text-primary"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Mais Bem Avaliados"})]}),e.jsx(E,{to:"/explorar?orderBy=nota_media",children:e.jsx(b,{variant:"ghost",children:"Ver Todos"})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:n.map(u=>e.jsx(fe,{anime:u},u.id))})]}),e.jsx("section",{className:"bg-muted/50 rounded-lg p-8",children:e.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Junte-se à Comunidade"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Conecte-se com outros fãs de anime, compartilhe suas opiniões e descubra recomendações personalizadas baseadas no seu gosto."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[e.jsxs(O,{children:[e.jsx(P,{children:e.jsx(L,{className:"text-lg",children:"Avalie & Comente"})}),e.jsx(T,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Compartilhe suas opiniões e ajude outros fãs a descobrir grandes animações."})})]}),e.jsxs(O,{children:[e.jsx(P,{children:e.jsx(L,{className:"text-lg",children:"Organize sua Lista"})}),e.jsx(T,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Mantenha controle do que assistiu, está assistindo e quer assistir."})})]}),e.jsxs(O,{children:[e.jsx(P,{children:e.jsx(L,{className:"text-lg",children:"Descubra Novidades"})}),e.jsx(T,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba recomendações personalizadas baseadas no seu histórico."})})]})]})]})})]})},Or=()=>{const[s,t]=p.useState({email:"",senha:""}),[a,r]=p.useState(!1),[n,i]=p.useState(""),{login:o}=Z(),l=ce(),u=d=>{t({...s,[d.target.name]:d.target.value})},m=async d=>{d.preventDefault(),r(!0),i("");const c=await o(s);c.success?l("/"):i(c.error),r(!1)};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/50",children:e.jsxs(O,{className:"w-full max-w-md",children:[e.jsxs(P,{className:"text-center",children:[e.jsx(L,{className:"text-2xl",children:"Entrar na AnimaList"}),e.jsx(os,{children:"Entre com sua conta para continuar"})]}),e.jsxs(T,{children:[e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n&&e.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:n}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),e.jsx(U,{id:"email",name:"email",type:"email",value:s.email,onChange:u,required:!0,placeholder:"seu@email.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"senha",className:"text-sm font-medium",children:"Senha"}),e.jsx(U,{id:"senha",name:"senha",type:"password",value:s.senha,onChange:u,required:!0,placeholder:"Sua senha"})]}),e.jsx(b,{type:"submit",className:"w-full",disabled:a,children:a?"Entrando...":"Entrar"})]}),e.jsxs("div",{className:"mt-6 text-center text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Não tem uma conta? "}),e.jsx(E,{to:"/registro",className:"text-primary hover:underline",children:"Criar conta"})]})]})]})})},Tr=()=>{const[s,t]=p.useState({nome:"",email:"",senha:"",confirmarSenha:""}),[a,r]=p.useState(!1),[n,i]=p.useState(""),{register:o}=Z(),l=ce(),u=d=>{t({...s,[d.target.name]:d.target.value})},m=async d=>{if(d.preventDefault(),r(!0),i(""),s.senha!==s.confirmarSenha){i("As senhas não coincidem"),r(!1);return}if(s.senha.length<6){i("A senha deve ter pelo menos 6 caracteres"),r(!1);return}const c=await o({nome:s.nome,email:s.email,senha:s.senha});c.success?l("/"):i(c.error),r(!1)};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/50",children:e.jsxs(O,{className:"w-full max-w-md",children:[e.jsxs(P,{className:"text-center",children:[e.jsx(L,{className:"text-2xl",children:"Criar Conta"}),e.jsx(os,{children:"Junte-se à comunidade AnimaList"})]}),e.jsxs(T,{children:[e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n&&e.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:n}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"nome",className:"text-sm font-medium",children:"Nome"}),e.jsx(U,{id:"nome",name:"nome",type:"text",value:s.nome,onChange:u,required:!0,placeholder:"Seu nome completo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),e.jsx(U,{id:"email",name:"email",type:"email",value:s.email,onChange:u,required:!0,placeholder:"seu@email.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"senha",className:"text-sm font-medium",children:"Senha"}),e.jsx(U,{id:"senha",name:"senha",type:"password",value:s.senha,onChange:u,required:!0,placeholder:"Mínimo 6 caracteres"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"confirmarSenha",className:"text-sm font-medium",children:"Confirmar Senha"}),e.jsx(U,{id:"confirmarSenha",name:"confirmarSenha",type:"password",value:s.confirmarSenha,onChange:u,required:!0,placeholder:"Confirme sua senha"})]}),e.jsx(b,{type:"submit",className:"w-full",disabled:a,children:a?"Criando conta...":"Criar Conta"})]}),e.jsxs("div",{className:"mt-6 text-center text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Já tem uma conta? "}),e.jsx(E,{to:"/login",className:"text-primary hover:underline",children:"Fazer login"})]})]})]})})},pe=p.forwardRef(({className:s,children:t,...a},r)=>e.jsx("select",{className:Q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...a,children:t}));pe.displayName="Select";const He=()=>{var k;const[s,t]=gt(),[a,r]=p.useState([]),[n,i]=p.useState([]),[o,l]=p.useState(!0),[u,m]=p.useState("grid"),[d,c]=p.useState({search:s.get("q")||"",genero:s.get("genero")||"",status:s.get("status")||"",orderBy:s.get("orderBy")||""}),[j,f]=p.useState({page:1,limit:20,total:0,pages:0});p.useEffect(()=>{g()},[]),p.useEffect(()=>{N()},[d,j.page]);const g=async()=>{try{const v=await ct.getAll();i(v.data)}catch(v){console.error("Erro ao carregar gêneros:",v)}},N=async()=>{l(!0);try{const v={page:j.page,limit:j.limit,...d};Object.keys(v).forEach(F=>{v[F]||delete v[F]});const M=await me.getAll(v);r(M.data.animacoes),f(F=>({...F,...M.data.pagination}))}catch(v){console.error("Erro ao carregar animações:",v)}finally{l(!1)}},x=(v,M)=>{const F={...d,[v]:M};c(F),f(se=>({...se,page:1}));const I=new URLSearchParams;Object.entries(F).forEach(([se,te])=>{te&&I.set(se,te)}),t(I)},A=v=>{v.preventDefault(),x("search",d.search)},S=()=>{c({search:"",genero:"",status:"",orderBy:""}),t(new URLSearchParams)},R=[{value:"",label:"Todos os Status"},{value:"Em exibição",label:"Em Exibição"},{value:"Finalizado",label:"Finalizado"},{value:"Cancelado",label:"Cancelado"},{value:"Anunciado",label:"Anunciado"}],w=[{value:"",label:"Mais Recentes"},{value:"nota_media",label:"Melhor Avaliados"},{value:"titulo",label:"A-Z"},{value:"ano_lancamento",label:"Ano de Lançamento"}];return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("aside",{className:"lg:w-80 space-y-6",children:e.jsxs(O,{children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(wt,{className:"h-5 w-5"}),"Filtros"]})}),e.jsxs(T,{className:"space-y-4",children:[e.jsx("form",{onSubmit:A,children:e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(U,{placeholder:"Buscar animações...",value:d.search,onChange:v=>c(M=>({...M,search:v.target.value})),className:"pl-10"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Gênero"}),e.jsxs(pe,{value:d.genero,onChange:v=>x("genero",v.target.value),children:[e.jsx("option",{value:"",children:"Todos os Gêneros"}),n.map(v=>e.jsx("option",{value:v.id,children:v.nome},v.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),e.jsx(pe,{value:d.status,onChange:v=>x("status",v.target.value),children:R.map(v=>e.jsx("option",{value:v.value,children:v.label},v.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Ordenar por"}),e.jsx(pe,{value:d.orderBy,onChange:v=>x("orderBy",v.target.value),children:w.map(v=>e.jsx("option",{value:v.value,children:v.label},v.value))})]}),e.jsx(b,{onClick:S,variant:"outline",className:"w-full",children:"Limpar Filtros"})]})]})}),e.jsxs("main",{className:"flex-1 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Explorar Animações"}),e.jsxs("p",{className:"text-muted-foreground",children:[j.total," animações encontradas"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{variant:u==="grid"?"default":"outline",size:"icon",onClick:()=>m("grid"),children:e.jsx(At,{className:"h-4 w-4"})}),e.jsx(b,{variant:u==="list"?"default":"outline",size:"icon",onClick:()=>m("list"),children:e.jsx(St,{className:"h-4 w-4"})})]})]}),Object.values(d).some(Boolean)&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.search&&e.jsxs($,{variant:"secondary",children:["Busca: ",d.search]}),d.genero&&e.jsxs($,{variant:"secondary",children:["Gênero: ",(k=n.find(v=>v.id==d.genero))==null?void 0:k.nome]}),d.status&&e.jsxs($,{variant:"secondary",children:["Status: ",d.status]})]}),o?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(de,{size:"large"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:u==="grid"?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4":"space-y-4",children:a.map(v=>e.jsx(fe,{anime:v},v.id))}),a.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma animação encontrada"})}),j.pages>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(b,{variant:"outline",disabled:j.page===1,onClick:()=>f(v=>({...v,page:v.page-1})),children:"Anterior"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Página ",j.page," de ",j.pages]}),e.jsx(b,{variant:"outline",disabled:j.page===j.pages,onClick:()=>f(v=>({...v,page:v.page+1})),children:"Próxima"})]})]})]})]})})},ut=p.forwardRef(({className:s,...t},a)=>e.jsx("textarea",{className:Q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...t}));ut.displayName="Textarea";const ge=({rating:s=0,onRatingChange:t,readonly:a=!1,size:r="default"})=>{const[n,i]=p.useState(0),o={small:"h-4 w-4",default:"h-5 w-5",large:"h-6 w-6"},l=d=>{!a&&t&&t(d)},u=d=>{a||i(d)},m=()=>{a||i(0)};return e.jsx("div",{className:"rating-stars",children:[1,2,3,4,5].map(d=>{const c=(n||s)>=d;return e.jsx(K,{className:`rating-star ${o[r]} ${c?"filled":"empty"} ${a?"":"cursor-pointer"}`,fill:c?"currentColor":"none",onClick:()=>l(d),onMouseEnter:()=>u(d),onMouseLeave:m},d)})})},kr=()=>{const{id:s}=jt(),t=ce(),{isAuthenticated:a,user:r}=Z(),[n,i]=p.useState(null),[o,l]=p.useState([]),[u,m]=p.useState(null),[d,c]=p.useState(!0),[j,f]=p.useState(!1),[g,N]=p.useState(!1),[x,A]=p.useState({nota:0,comentario:""}),[S,R]=p.useState(""),[w,k]=p.useState({page:1,limit:10,total:0,pages:0});p.useEffect(()=>{s&&(M(),F(),a&&(I(),v()))},[s,a]);const v=async()=>{try{const _=(await oe.getMinha()).data.lista.find(V=>V.animacao_id===parseInt(s));_&&R(_.status)}catch(y){console.error("Erro ao buscar status na lista:",y)}},M=async()=>{var y;try{c(!0);const _=await me.getById(s);console.log("Detalhes da animação:",_.data),i(_.data)}catch(_){console.error("Erro ao carregar detalhes:",_),((y=_.response)==null?void 0:y.status)===404&&t("/explorar")}finally{c(!1)}},F=async(y=1)=>{try{console.log("Buscando avaliações para anime:",s,"página:",y);const _=await re.getByAnimacao(s,{page:y,limit:w.limit});console.log("Avaliações recebidas:",_.data),_.data&&_.data.avaliacoes?(l(_.data.avaliacoes),k(_.data.pagination)):(console.error("Formato de resposta inválido:",_.data),l([]),k({page:1,limit:10,total:0,pages:0}))}catch(_){console.error("Erro ao carregar avaliações:",_),l([])}},I=async()=>{try{const _=(await re.getByAnimacao(s)).data.avaliacoes.find(V=>V.usuario_id===(r==null?void 0:r.id));_?(m(_),A({nota:_.nota,comentario:_.comentario||""})):(m(null),A({nota:0,comentario:""}))}catch(y){console.error("Erro ao buscar minha avaliação:",y)}},se=async()=>{var y,_,V;if(!(!a||x.nota===0)){f(!0);try{console.log("Salvando avaliação:",{isEdit:!!u,animacao_id:parseInt(s),nota:x.nota,comentario:x.comentario}),u?(console.log("Atualizando avaliação existente, ID:",u.id),await re.update(u.id,{animacao_id:parseInt(s),nota:x.nota,comentario:x.comentario})):(console.log("Criando nova avaliação"),await re.create({animacao_id:parseInt(s),nota:x.nota,comentario:x.comentario})),console.log("Atualizando dados após salvar avaliação"),await Promise.all([M(),F(),I()]),N(!1),alert(u?"Avaliação atualizada com sucesso!":"Avaliação criada com sucesso!")}catch(z){console.error("Erro ao avaliar:",z),console.error("Resposta do erro:",(y=z.response)==null?void 0:y.data),console.error("Status do erro:",(_=z.response)==null?void 0:_.status);let W="Erro ao salvar avaliação";(V=z.response)!=null&&V.data&&(z.response.data.error?W=z.response.data.error:z.response.data.details&&z.response.data.details.length>0&&(W=z.response.data.details[0])),alert(W)}finally{f(!1)}}},te=async()=>{if(!(!u||!confirm("Tem certeza que deseja excluir sua avaliação?")))try{await re.delete(u.id),m(null),A({nota:0,comentario:""}),await Promise.all([M(),F()]),alert("Avaliação excluída com sucesso!")}catch(y){console.error("Erro ao deletar avaliação:",y),alert("Erro ao excluir avaliação")}},ae=async y=>{var _,V,z;if(a)try{console.log("Adicionando à lista:",{animacao_id:parseInt(s),status:y}),await oe.add({animacao_id:parseInt(s),status:y}),R(y),alert(`Animação adicionada à lista como "${{assistindo:"Assistindo",desejado:"Quero Assistir",assistido:"Assistido",pausado:"Pausado",abandonado:"Abandonado"}[y]}"`)}catch(W){console.error("Erro ao adicionar à lista:",W),console.error("Detalhes do erro:",(_=W.response)==null?void 0:_.data);const we=((z=(V=W.response)==null?void 0:V.data)==null?void 0:z.error)||"Erro ao adicionar à lista";alert(we)}},ht=async()=>{var y,_,V;if(!(!a||!S)&&confirm("Tem certeza que deseja remover esta animação da sua lista?"))try{console.log("Removendo animação da lista, ID:",s),await oe.remove(s),R(""),alert("Animação removida da lista com sucesso!")}catch(z){console.error("Erro ao remover da lista:",z),console.error("Detalhes do erro:",(y=z.response)==null?void 0:y.data);const W=((V=(_=z.response)==null?void 0:_.data)==null?void 0:V.error)||"Erro ao remover da lista";alert(W)}},xt=async y=>{alert("Comentário reportado para moderação")};return d?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(de,{size:"large"})}):n?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"relative",children:[n.banner_url&&e.jsxs("div",{className:"absolute inset-0 -z-10",children:[e.jsx("img",{src:n.banner_url||"/placeholder.svg",alt:"",className:"w-full h-96 object-cover opacity-20",onError:y=>{y.target.style.display="none"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/80 to-background/20"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 pt-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("img",{src:n.poster_url||"/placeholder.svg?height=600&width=400",alt:n.titulo,className:"w-full max-w-sm mx-auto rounded-lg shadow-lg",onError:y=>{y.target.src="/placeholder.svg?height=600&width=400"}})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:n.titulo}),n.titulo_original&&n.titulo_original!==n.titulo&&e.jsx("p",{className:"text-xl text-muted-foreground mb-4",children:n.titulo_original}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-lg font-semibold",children:Oe(n.nota_media)}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",n.total_avaliacoes," ",n.total_avaliacoes===1?"avaliação":"avaliações",")"]})]}),e.jsx($,{className:ts(n.status),children:n.status}),n.ano_lancamento&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ke,{className:"h-4 w-4"}),e.jsx("span",{children:n.ano_lancamento})]}),n.episodios&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsxs("span",{children:[n.episodios," ",n.episodios===1?"episódio":"episódios"]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:n.generos&&Array.isArray(n.generos)?n.generos.map((y,_)=>e.jsx($,{variant:"outline",style:{borderColor:y.cor||"#888888",color:y.cor||"#888888"},children:typeof y=="object"?y.nome:y},y.id||_)):null}),n.sinopse&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Sinopse"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:n.sinopse})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.estudio&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Estúdio:"}),e.jsx("p",{className:"text-muted-foreground",children:n.estudio})]}),n.diretor&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Diretor:"}),e.jsx("p",{className:"text-muted-foreground",children:n.diretor})]})]})]}),a&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Adicionar à Minha Lista"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:[e.jsxs(b,{onClick:()=>ae("assistindo"),variant:S==="assistindo"?"default":"outline",className:"gap-2 text-center flex-col h-auto py-3",size:"sm",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Assistindo"})]}),e.jsxs(b,{onClick:()=>ae("desejado"),variant:S==="desejado"?"default":"outline",className:"gap-2 text-center flex-col h-auto py-3",size:"sm",children:[e.jsx(as,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Quero Assistir"})]}),e.jsxs(b,{onClick:()=>ae("assistido"),variant:S==="assistido"?"default":"outline",className:"gap-2 text-center flex-col h-auto py-3",size:"sm",children:[e.jsx(Te,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Assistido"})]}),e.jsxs(b,{onClick:()=>ae("pausado"),variant:S==="pausado"?"default":"outline",className:"gap-2 text-center flex-col h-auto py-3",size:"sm",children:[e.jsx(Ts,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Pausado"})]}),e.jsxs(b,{onClick:()=>ae("abandonado"),variant:S==="abandonado"?"default":"outline",className:"gap-2 text-center flex-col h-auto py-3",size:"sm",children:[e.jsx(je,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Abandonado"})]})]}),S&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:"Status atual:"}),e.jsxs($,{variant:"outline",className:"text-xs",children:[S==="assistindo"&&"Assistindo",S==="desejado"&&"Quero Assistir",S==="assistido"&&"Assistido",S==="pausado"&&"Pausado",S==="abandonado"&&"Abandonado"]})]}),e.jsx(b,{onClick:ht,variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",children:"Remover da Lista"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a&&e.jsxs(O,{children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsx("span",{children:u?"Sua Avaliação":"Avaliar esta Animação"}),u&&!g&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(b,{size:"sm",variant:"outline",onClick:()=>N(!0),className:"gap-2",children:[e.jsx(ks,{className:"h-3 w-3"}),"Editar"]}),e.jsxs(b,{size:"sm",variant:"destructive",onClick:te,className:"gap-2",children:[e.jsx(Ps,{className:"h-3 w-3"}),"Excluir"]})]})]})}),e.jsx(T,{className:"space-y-4",children:u&&!g?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Sua Nota"}),e.jsx(ge,{rating:u.nota,readonly:!0,size:"large"})]}),u.comentario&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Seu Comentário"}),e.jsx("div",{className:"p-3 bg-muted rounded-md",children:e.jsx("p",{className:"text-sm",children:u.comentario})})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avaliado em ",ee(u.created_at),u.updated_at!==u.created_at&&` • Editado em ${ee(u.updated_at)}`]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 block",children:["Sua Nota ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(ge,{rating:x.nota,onRatingChange:y=>A(_=>({..._,nota:y})),size:"large"}),x.nota>0&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[x.nota===1&&"Muito ruim",x.nota===2&&"Ruim",x.nota===3&&"Regular",x.nota===4&&"Bom",x.nota===5&&"Excelente"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Comentário (opcional)"}),e.jsx(ut,{value:x.comentario,onChange:y=>A(_=>({..._,comentario:y.target.value})),placeholder:"Compartilhe sua opinião sobre esta animação... O que você achou da história, personagens, animação, trilha sonora?",className:"min-h-[120px] resize-none",maxLength:1e3}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.comentario.length,"/1000 caracteres"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Seja respeitoso e construtivo em seus comentários"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(b,{onClick:se,disabled:x.nota===0||j,className:"flex-1",children:j?"Salvando...":u?"Atualizar Avaliação":"Enviar Avaliação"}),g&&e.jsx(b,{variant:"outline",onClick:()=>{N(!1),A({nota:u.nota,comentario:u.comentario||""})},children:"Cancelar"})]})]})})]}),e.jsxs(O,{children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"h-5 w-5"}),"Avaliações da Comunidade",e.jsx($,{variant:"secondary",children:w.total})]})}),e.jsx(T,{children:o.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ne,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"Ainda não há avaliações"}),e.jsx("p",{className:"text-muted-foreground",children:a?"Seja o primeiro a avaliar esta animação!":"Faça login para avaliar esta animação."})]}):e.jsxs("div",{className:"space-y-6",children:[o.filter(y=>y.usuario_id!==(r==null?void 0:r.id)).map(y=>e.jsx("div",{className:"border-b pb-6 last:border-b-0",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:y.avatar_url?e.jsx("img",{src:y.avatar_url||"/placeholder.svg",alt:y.usuario_nome,className:"w-12 h-12 rounded-full object-cover"}):e.jsx(Ls,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[e.jsx("span",{className:"font-medium text-sm",children:y.usuario_nome}),e.jsx(ge,{rating:y.nota,readonly:!0,size:"small"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[ee(y.created_at),y.updated_at!==y.created_at&&" (editado)"]}),a&&e.jsxs(b,{size:"sm",variant:"ghost",onClick:()=>xt(y.id),className:"ml-auto gap-1 text-xs",children:[e.jsx(Et,{className:"h-3 w-3"}),"Reportar"]})]}),y.comentario&&e.jsx("div",{className:"bg-muted/50 rounded-lg p-3 mt-2",children:e.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:y.comentario})})]})]})},y.id)),w.pages>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4",children:[e.jsx(b,{variant:"outline",size:"sm",disabled:w.page===1,onClick:()=>F(w.page-1),children:"Anterior"}),e.jsxs("span",{className:"text-sm text-muted-foreground px-3",children:["Página ",w.page," de ",w.pages]}),e.jsx(b,{variant:"outline",size:"sm",disabled:w.page===w.pages,onClick:()=>F(w.page+1),children:"Próxima"})]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(O,{children:[e.jsx(P,{children:e.jsx(L,{children:"Informações"})}),e.jsxs(T,{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx($,{className:ts(n.status),children:n.status})]}),n.ano_lancamento&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Ano:"}),e.jsx("span",{children:n.ano_lancamento})]}),n.episodios&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Episódios:"}),e.jsx("span",{children:n.episodios})]}),n.estudio&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Estúdio:"}),e.jsx("span",{className:"text-right",children:n.estudio})]}),n.diretor&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Diretor:"}),e.jsx("span",{className:"text-right",children:n.diretor})]})]})]}),e.jsxs(O,{children:[e.jsx(P,{children:e.jsx(L,{children:"Estatísticas de Avaliação"})}),e.jsxs(T,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(K,{className:"h-6 w-6 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-3xl font-bold",children:Oe(n.nota_media)})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.total_avaliacoes," ",n.total_avaliacoes===1?"avaliação":"avaliações"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs font-medium mb-2",children:"Distribuição de Notas"}),[5,4,3,2,1].map(y=>{var W,we;const _=((we=(W=n.stats)==null?void 0:W.distribuicao)==null?void 0:we[y])||0,V=n.total_avaliacoes||0,z=V>0?_/V*100:0;return e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"w-4",children:y}),e.jsx(K,{className:"h-3 w-3 text-yellow-400 fill-current"}),e.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${z}%`}})}),e.jsx("span",{className:"w-8 text-right text-muted-foreground",children:_})]},y)})]})]})]}),e.jsxs(O,{children:[e.jsx(P,{children:e.jsx(L,{children:"Ações"})}),e.jsxs(T,{className:"space-y-3",children:[e.jsx(b,{variant:"outline",className:"w-full justify-start",asChild:!0,children:e.jsx(E,{to:"/explorar",children:"← Voltar para Explorar"})}),a&&e.jsx(b,{variant:"outline",className:"w-full justify-start",asChild:!0,children:e.jsx(E,{to:"/minha-lista",children:"Ver Minha Lista"})}),e.jsx(b,{variant:"outline",className:"w-full justify-start",onClick:()=>{navigator.share?navigator.share({title:n.titulo,text:`Confira ${n.titulo} no AnimaList!`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Link copiado para a área de transferência!"))},children:"Compartilhar"})]})]})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Animação não encontrada"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"A animação que você procura não existe ou foi removida."}),e.jsx(E,{to:"/explorar",children:e.jsx(b,{children:"Voltar para Explorar"})})]})},Pr=()=>{var S,R;const{isAuthenticated:s}=Z(),[t,a]=p.useState([]),[r,n]=p.useState(!0),[i,o]=p.useState(""),[l,u]=p.useState(""),[m,d]=p.useState({assistido:0,desejado:0,assistindo:0,pausado:0,abandonado:0}),[c,j]=p.useState({page:1,limit:20,total:0,pages:0}),f=ce();p.useEffect(()=>{s&&g()},[s,i]);const g=async(w=1)=>{var k,v,M;n(!0),u("");try{console.log("Buscando lista com filtro:",i,"página:",w);const F={page:w,limit:c.limit};i&&i!==""&&(F.status=i),console.log("Parâmetros da requisição:",F);const I=await oe.getMinha(F);if(console.log("Resposta da API:",I.data),I.data&&Array.isArray(I.data.lista)){if(a(I.data.lista),j(I.data.pagination||c),!i||i===""){const se=I.data.lista.reduce((te,ae)=>(te[ae.status]=(te[ae.status]||0)+1,te),{assistido:0,desejado:0,assistindo:0,pausado:0,abandonado:0});console.log("Estatísticas calculadas:",se),d(se)}}else console.error("Formato de resposta inesperado:",I.data),a([]),u("Formato de dados inválido recebido do servidor")}catch(F){console.error("Erro ao carregar lista:",F),console.error("Detalhes do erro:",(k=F.response)==null?void 0:k.data),u(((M=(v=F.response)==null?void 0:v.data)==null?void 0:M.error)||"Erro ao carregar sua lista. Tente novamente."),a([])}finally{n(!1)}},N=async w=>{try{console.log("Removendo animação da lista:",w),await oe.remove(w),await g(c.page),console.log("Animação removida com sucesso")}catch(k){console.error("Erro ao remover da lista:",k),u("Erro ao remover animação da lista")}},x=w=>{g(w)};if(!s)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Acesso Restrito"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Você precisa estar logado para ver sua lista pessoal."}),e.jsx(b,{onClick:()=>f("/login"),children:"Fazer Login"})]});const A=[{value:"",label:"Todos",icon:null,count:Object.values(m).reduce((w,k)=>w+k,0)},{value:"assistido",label:"Assistido",icon:Te,count:m.assistido||0},{value:"desejado",label:"Quero Assistir",icon:as,count:m.desejado||0},{value:"assistindo",label:"Assistindo",icon:Ce,count:m.assistindo||0},{value:"pausado",label:"Pausado",icon:Ts,count:m.pausado||0},{value:"abandonado",label:"Abandonado",icon:je,count:m.abandonado||0}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Minha Lista"}),e.jsx("p",{className:"text-muted-foreground",children:"Organize e acompanhe suas animações favoritas"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:A.map(w=>{const k=w.icon;return e.jsx(O,{className:`cursor-pointer transition-colors ${i===w.value?"ring-2 ring-primary":""}`,onClick:()=>o(w.value),children:e.jsxs(T,{className:"p-4 text-center",children:[k&&e.jsx(k,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),e.jsx("p",{className:"font-medium text-sm",children:w.label}),e.jsx("p",{className:"text-2xl font-bold text-primary",children:w.count})]})},w.value)})}),l&&e.jsx("div",{className:"p-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l}),r?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(de,{size:"large"})}):e.jsx(e.Fragment,{children:t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:i?"Nenhuma animação encontrada":"Sua lista está vazia"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:i?`Você não tem animações com status "${(S=A.find(w=>w.value===i))==null?void 0:S.label}"`:"Comece adicionando algumas animações à sua lista!"}),e.jsx(b,{onClick:()=>f("/explorar"),children:"Explorar Animações"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-semibold",children:[i?(R=A.find(w=>w.value===i))==null?void 0:R.label:"Todas as Animações"," ","(",c.total||t.length,")"]}),i&&e.jsx(b,{variant:"outline",onClick:()=>o(""),children:"Ver Todas"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:t.map(w=>{var k;return e.jsxs("div",{className:"relative group",children:[e.jsx(fe,{anime:{id:w.animacao_id,titulo:w.titulo,poster_url:w.poster_url,nota_media:w.nota_media,total_avaliacoes:w.total_avaliacoes},showActions:!1}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx($,{className:yr(w.status),children:(k=A.find(v=>v.value===w.status))==null?void 0:k.label})}),e.jsx(b,{size:"icon",variant:"destructive",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>N(w.animacao_id),children:e.jsx(je,{className:"h-4 w-4"})})]},w.id)})}),c.pages>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(b,{variant:"outline",disabled:c.page<=1,onClick:()=>x(c.page-1),children:"Anterior"}),e.jsxs("span",{className:"flex items-center px-4",children:["Página ",c.page," de ",c.pages]}),e.jsx(b,{variant:"outline",disabled:c.page>=c.pages,onClick:()=>x(c.page+1),children:"Próxima"})]})]})})]})},Lr=()=>{const{isAuthenticated:s}=Z(),[t,a]=p.useState([]),[r,n]=p.useState(!0),[i,o]=p.useState({total:0,notaMedia:0,maisRecente:null}),[l,u]=p.useState({page:1,limit:20,total:0,pages:0});p.useEffect(()=>{s&&m()},[s,l.page]);const m=async()=>{var c,j;n(!0);try{console.log("Buscando minhas avaliações...");const f=await re.getMinhas({page:l.page,limit:l.limit});console.log("Resposta da API:",f.data);const g=f.data.avaliacoes||[];if(a(g),u(f.data.pagination||l),g.length>0){const N=g.map(S=>{const R=parseFloat(S.nota);return console.log("Nota individual:",R),isNaN(R)?0:R}),x=N.reduce((S,R)=>S+R,0),A=x/N.length;console.log("Cálculo de média:",{notas:N,somaNotas:x,notaMedia:A}),o({total:((c=f.data.pagination)==null?void 0:c.total)||g.length,notaMedia:isNaN(A)?0:A,maisRecente:g[0]||null})}else o({total:0,notaMedia:0,maisRecente:null})}catch(f){console.error("Erro ao carregar avaliações:",f),console.error("Detalhes do erro:",(j=f.response)==null?void 0:j.data),o({total:0,notaMedia:0,maisRecente:null})}finally{n(!1)}},d=async c=>{if(confirm("Tem certeza que deseja excluir esta avaliação?"))try{await re.delete(c),m(),alert("Avaliação excluída com sucesso!")}catch(j){console.error("Erro ao deletar avaliação:",j),alert("Erro ao excluir avaliação")}};return s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Minhas Avaliações"}),e.jsx("p",{className:"text-muted-foreground",children:"Todas as suas avaliações e comentários sobre animações"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(O,{children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"h-5 w-5"}),"Total de Avaliações"]})}),e.jsx(T,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-primary",children:i.total}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Animações avaliadas"})]})})]}),e.jsxs(O,{children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5"}),"Sua Nota Média"]})}),e.jsx(T,{children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(K,{className:"h-6 w-6 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-3xl font-bold",children:Oe(i.notaMedia)})]}),e.jsx(ge,{rating:Math.round(i.notaMedia),readonly:!0,size:"small"})]})})]}),e.jsxs(O,{children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Última Avaliação"]})}),e.jsx(T,{children:e.jsx("div",{className:"text-center",children:i.maisRecente?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-medium text-sm mb-1",children:i.maisRecente.titulo}),e.jsx("p",{className:"text-sm text-muted-foreground",children:ee(i.maisRecente.updated_at)})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma avaliação ainda"})})})]})]}),r?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(de,{size:"large"})}):e.jsx(e.Fragment,{children:t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ne,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Você ainda não avaliou nenhuma animação"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Comece explorando nosso catálogo e compartilhe suas opiniões!"}),e.jsx(b,{asChild:!0,children:e.jsx(E,{to:"/explorar",children:"Explorar Animações"})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h2",{className:"text-xl font-semibold",children:["Suas Avaliações (",l.total,")"]})}),e.jsx("div",{className:"grid gap-6",children:t.map(c=>e.jsx(O,{children:e.jsx(T,{className:"p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(E,{to:`/anime/${c.animacao_id}`,className:"flex-shrink-0",children:e.jsx("img",{src:c.poster_url||"/placeholder.svg?height=120&width=80",alt:c.titulo,className:"w-20 h-28 object-cover rounded-md"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx(E,{to:`/anime/${c.animacao_id}`,className:"text-lg font-semibold hover:text-primary transition-colors",children:c.titulo}),c.ano_lancamento&&e.jsx("p",{className:"text-sm text-muted-foreground",children:c.ano_lancamento})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{size:"sm",variant:"outline",asChild:!0,className:"gap-2",children:e.jsxs(E,{to:`/anime/${c.animacao_id}`,children:[e.jsx(ks,{className:"h-3 w-3"}),"Editar"]})}),e.jsxs(b,{size:"sm",variant:"destructive",onClick:()=>d(c.id),className:"gap-2",children:[e.jsx(Ps,{className:"h-3 w-3"}),"Excluir"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(ge,{rating:c.nota,readonly:!0,size:"small"}),e.jsxs("span",{className:"text-sm font-medium",children:[c.nota,"/5"]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Avaliado em ",ee(c.created_at),c.updated_at!==c.created_at&&` • Editado em ${ee(c.updated_at)}`]})]}),c.comentario&&e.jsx("div",{className:"bg-muted/50 rounded-lg p-3",children:e.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:c.comentario})})]})]})})},c.id))}),l.pages>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(b,{variant:"outline",disabled:l.page===1,onClick:()=>u(c=>({...c,page:c.page-1})),children:"Anterior"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Página ",l.page," de ",l.pages]}),e.jsx(b,{variant:"outline",disabled:l.page===l.pages,onClick:()=>u(c=>({...c,page:c.page+1})),children:"Próxima"})]})]})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Acesso Restrito"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Você precisa estar logado para ver suas avaliações."}),e.jsx(b,{asChild:!0,children:e.jsx(E,{to:"/login",children:"Fazer Login"})})]})},Fr=()=>{const{user:s,isAuthenticated:t}=Z(),[a,r]=p.useState(null),[n,i]=p.useState({totalAvaliacoes:0,totalLista:0,notaMedia:0}),[o,l]=p.useState(!0),u=ce();p.useEffect(()=>{t&&(m(),d())},[t]);const m=async()=>{try{const c=await ss.getProfile();r(c.data)}catch(c){console.error("Erro ao carregar perfil:",c)}finally{l(!1)}},d=async()=>{try{const[c,j]=await Promise.all([oe.getMinha()]);i({totalLista:c.data.lista.length,totalAvaliacoes:0,notaMedia:0})}catch(c){console.error("Erro ao carregar estatísticas:",c)}};return t?o||!a?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"loading-spinner h-8 w-8"})}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:e.jsx(We,{className:"h-12 w-12 text-primary"})}),e.jsx("h1",{className:"text-3xl font-bold",children:a.nome}),e.jsx("p",{className:"text-muted-foreground",children:a.email}),e.jsx($,{variant:a.role==="admin"?"default":"secondary",className:"mt-2",children:a.role==="admin"?"Administrador":"Usuário"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(O,{children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5"}),"Avaliações"]})}),e.jsx(T,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-primary",children:n.totalAvaliacoes}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de avaliações"}),n.notaMedia>0&&e.jsxs("p",{className:"text-sm mt-2",children:["Nota média: ",e.jsx("span",{className:"font-semibold",children:n.notaMedia.toFixed(1)})]})]})})]}),e.jsxs(O,{children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Minha Lista"]})}),e.jsx(T,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-primary",children:n.totalLista}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Animações na lista"})]})})]}),e.jsxs(O,{children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Membro desde"]})}),e.jsx(T,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-semibold",children:ee(a.created_at)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Data de cadastro"})]})})]})]}),e.jsxs(O,{children:[e.jsx(P,{children:e.jsx(L,{children:"Informações do Perfil"})}),e.jsxs(T,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Nome"}),e.jsx(U,{value:a.nome,disabled:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Email"}),e.jsx(U,{value:a.email,disabled:!0})]})]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Para alterar suas informações, entre em contato com o suporte."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(O,{children:[e.jsx(P,{children:e.jsx(L,{children:"Ações Rápidas"})}),e.jsxs(T,{className:"space-y-3",children:[e.jsx(b,{variant:"outline",className:"w-full justify-start",asChild:!0,children:e.jsx("a",{href:"/minha-lista",children:"Ver Minha Lista"})}),e.jsx(b,{variant:"outline",className:"w-full justify-start",asChild:!0,children:e.jsx("a",{href:"/explorar",children:"Explorar Animações"})}),e.jsx(b,{variant:"outline",className:"w-full justify-start",asChild:!0,children:e.jsx("a",{href:"/lancamentos",children:"Ver Lançamentos"})})]})]}),e.jsxs(O,{children:[e.jsx(P,{children:e.jsx(L,{children:"Preferências"})}),e.jsxs(T,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Notificações por email"}),e.jsx("input",{type:"checkbox",className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Perfil público"}),e.jsx("input",{type:"checkbox",className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Recomendações personalizadas"}),e.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:!0})]})]})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Acesso Restrito"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Você precisa estar logado para ver seu perfil."}),e.jsx(b,{onClick:()=>u("/login"),children:"Fazer Login"})]})},Dr=({isOpen:s,onClose:t,onSuccess:a})=>{const[r,n]=p.useState({titulo:"",titulo_original:"",sinopse:"",poster_url:"",banner_url:"",ano_lancamento:new Date().getFullYear(),episodios:1,status:"Finalizado",estudio:"",diretor:"",generos:[]}),[i,o]=p.useState([]),[l,u]=p.useState(!1),[m,d]=p.useState(""),c=["Em exibição","Finalizado","Cancelado","Anunciado"];p.useEffect(()=>{s&&j()},[s]);const j=async()=>{try{const x=await ct.getAll();o(x.data)}catch(x){console.error("Erro ao carregar gêneros:",x)}},f=x=>{const{name:A,value:S}=x.target;n(R=>({...R,[A]:S}))},g=x=>{n(A=>({...A,generos:A.generos.includes(x)?A.generos.filter(S=>S!==x):[...A.generos,x]}))},N=async x=>{var A,S;if(x.preventDefault(),u(!0),d(""),!r.titulo.trim()){d("Título é obrigatório"),u(!1);return}if(r.generos.length===0){d("Selecione pelo menos um gênero"),u(!1);return}try{const R={...r,ano_lancamento:parseInt(r.ano_lancamento),episodios:parseInt(r.episodios),titulo_original:r.titulo_original||null,sinopse:r.sinopse||null,poster_url:r.poster_url||null,banner_url:r.banner_url||null,estudio:r.estudio||null,diretor:r.diretor||null};await me.create(R),n({titulo:"",titulo_original:"",sinopse:"",poster_url:"",banner_url:"",ano_lancamento:new Date().getFullYear(),episodios:1,status:"Finalizado",estudio:"",diretor:"",generos:[]}),a==null||a(),t()}catch(R){console.error("Erro ao criar animação:",R),d(((S=(A=R.response)==null?void 0:A.data)==null?void 0:S.error)||"Erro ao criar animação")}finally{u(!1)}};return s?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs(O,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(P,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[e.jsx(L,{className:"text-xl font-bold",children:"Nova Animação"}),e.jsx(b,{variant:"ghost",size:"icon",onClick:t,children:e.jsx(je,{className:"h-4 w-4"})})]}),e.jsx(T,{children:e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[m&&e.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:m}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Título *"}),e.jsx(U,{name:"titulo",value:r.titulo,onChange:f,placeholder:"Nome da animação",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Título Original"}),e.jsx(U,{name:"titulo_original",value:r.titulo_original,onChange:f,placeholder:"Título original (japonês/inglês)"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Sinopse"}),e.jsx("textarea",{name:"sinopse",value:r.sinopse,onChange:f,placeholder:"Descrição da animação...",className:"w-full min-h-[100px] p-3 border border-input rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-ring",maxLength:1e3}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.sinopse.length,"/1000 caracteres"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"URL do Poster"}),e.jsx(U,{name:"poster_url",value:r.poster_url,onChange:f,placeholder:"https://exemplo.com/poster.jpg",type:"url"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"URL do Banner"}),e.jsx(U,{name:"banner_url",value:r.banner_url,onChange:f,placeholder:"https://exemplo.com/banner.jpg",type:"url"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ano de Lançamento"}),e.jsx(U,{name:"ano_lancamento",type:"number",value:r.ano_lancamento,onChange:f,min:"1900",max:new Date().getFullYear()+5})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Episódios"}),e.jsx(U,{name:"episodios",type:"number",value:r.episodios,onChange:f,min:"1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Status"}),e.jsx(pe,{value:r.status,onChange:x=>f({target:{name:"status",value:x.target.value}}),children:c.map(x=>e.jsx("option",{value:x,children:x},x))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Estúdio"}),e.jsx(U,{name:"estudio",value:r.estudio,onChange:f,placeholder:"Nome do estúdio de animação"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Diretor"}),e.jsx(U,{name:"diretor",value:r.diretor,onChange:f,placeholder:"Nome do diretor"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Gêneros *"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:i.map(x=>e.jsx("div",{onClick:()=>g(x.id),className:`p-2 border rounded-md cursor-pointer transition-colors text-center text-sm ${r.generos.includes(x.id)?"bg-primary text-primary-foreground border-primary":"bg-background hover:bg-muted"}`,children:x.nome},x.id))}),r.generos.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.generos.map(x=>{const A=i.find(S=>S.id===x);return A?e.jsx($,{variant:"secondary",className:"text-xs",children:A.nome},x):null})})]}),(r.poster_url||r.banner_url)&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Prévia das Imagens"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.poster_url&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Poster"}),e.jsx("img",{src:r.poster_url,alt:"Prévia do poster",className:"w-full h-48 object-cover rounded-md border",onError:x=>{x.target.src="/placeholder.svg?height=200&width=150"}})]}),r.banner_url&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Banner"}),e.jsx("img",{src:r.banner_url,alt:"Prévia do banner",className:"w-full h-48 object-cover rounded-md border",onError:x=>{x.target.src="/placeholder.svg?height=200&width=400"}})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(b,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),e.jsx(b,{type:"submit",disabled:l,className:"gap-2",children:l?"Criando...":e.jsxs(e.Fragment,{children:[e.jsx(Fs,{className:"h-4 w-4"}),"Criar Animação"]})})]})]})})]})}):null},Mr=()=>{const{isAdmin:s}=Z(),[t,a]=p.useState({totals:{animacoes:0,usuarios:0,avaliacoes:0,comentariosPendentes:0},crescimento:{animacoesMes:0,usuariosMes:0,avaliacoesMes:0},topAnimacoes:[],usuariosAtivos:[],generoStats:[],ultimasAvaliacoes:[]}),[r,n]=p.useState([]),[i,o]=p.useState([]),[l,u]=p.useState(!0),[m,d]=p.useState(!1);p.useEffect(()=>{s&&s()&&c()},[s]);const c=async()=>{try{u(!0);const[f,g,N]=await Promise.all([Ve.getDashboard(),Ve.getRecentAnimacoes({limit:8}),Ve.getUsuariosRecentes({limit:8})]);console.log("Dados do dashboard:",f.data),console.log("Total de avaliações:",f.data.totals.avaliacoes),a(f.data),n(g.data),o(N.data)}catch(f){console.error("Erro ao carregar dados do dashboard:",f)}finally{u(!1)}},j=()=>{c()};return!s||!s()?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Acesso Negado"}),e.jsx("p",{className:"text-muted-foreground",children:"Você não tem permissão para acessar esta área."})]}):l?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(de,{size:"large"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard Administrativo"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie a plataforma AnimaList"})]}),e.jsxs(b,{className:"gap-2",onClick:()=>d(!0),children:[e.jsx(Fs,{className:"h-4 w-4"}),"Nova Animação"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(O,{children:[e.jsxs(P,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Total de Animações"}),e.jsx(ms,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(T,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.totals.animacoes}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",t.crescimento.animacoesMes," este mês"]})]})]}),e.jsxs(O,{children:[e.jsxs(P,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Usuários Ativos"}),e.jsx(Ls,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(T,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.totals.usuarios}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",t.crescimento.usuariosMes," este mês"]})]})]}),e.jsxs(O,{children:[e.jsxs(P,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Total de Avaliações"}),e.jsx(K,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(T,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.totals.avaliacoes}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",t.crescimento.avaliacoesMes," este mês"]})]})]}),e.jsxs(O,{children:[e.jsxs(P,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Avaliações Recentes"}),e.jsx(Ne,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(T,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.totals.comentariosPendentes}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Últimos 7 dias"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(O,{children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(ms,{className:"h-4 w-4"}),"Animações Recentes"]})}),e.jsx(T,{children:e.jsx("div",{className:"space-y-4",children:r.slice(0,5).map(f=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:f.poster_url||"/placeholder.svg?height=60&width=40",alt:f.titulo,className:"w-10 h-14 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm line-clamp-1",children:f.titulo}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.ano_lancamento," • ",f.episodios," eps"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["⭐ ",f.nota_media||"N/A"," (",f.total_avaliacoes||0," avaliações)"]})]}),e.jsx($,{variant:"outline",className:"text-xs",children:f.status})]},f.id))})})]}),e.jsxs(O,{children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ct,{className:"h-4 w-4"}),"Usuários Recentes"]})}),e.jsx(T,{children:e.jsx("div",{className:"space-y-4",children:i.slice(0,5).map(f=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium",children:f.nome.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm line-clamp-1",children:f.nome}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:f.email}),e.jsx("p",{className:"text-xs text-muted-foreground",children:ee(f.created_at)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx($,{variant:f.role==="admin"?"default":"secondary",className:"text-xs",children:f.role}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[f.total_avaliacoes," avaliações"]})]})]},f.id))})})]}),e.jsxs(O,{children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"h-4 w-4"}),"Mais Bem Avaliadas"]})}),e.jsx(T,{children:e.jsx("div",{className:"space-y-4",children:t.topAnimacoes.map((f,g)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold",children:g+1})}),e.jsx("img",{src:f.poster_url||"/placeholder.svg?height=40&width=30",alt:f.titulo,className:"w-6 h-8 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm line-clamp-1",children:f.titulo}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["⭐ ",f.nota_media," (",f.total_avaliacoes," avaliações)"]})]})]},f.id))})})]})]}),e.jsxs(O,{children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"h-4 w-4"}),"Distribuição por Gênero"]})}),e.jsx(T,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.generoStats.map(f=>e.jsxs("div",{className:"text-center p-4 rounded-lg border",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:f.total}),e.jsx("div",{className:"text-sm text-muted-foreground",children:f.nome}),e.jsx("div",{className:"w-4 h-4 rounded-full mx-auto mt-2",style:{backgroundColor:f.cor||"#6366f1"}})]},f.nome))})})]}),e.jsxs(O,{children:[e.jsx(P,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-4 w-4"}),"Últimas Avaliações"]})}),e.jsx(T,{children:e.jsx("div",{className:"space-y-3",children:t.ultimasAvaliacoes.slice(0,5).map(f=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-b-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium",children:[f.usuario_nome,' avaliou "',f.anime_titulo,'"']}),e.jsx("p",{className:"text-xs text-muted-foreground",children:ee(f.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{className:"h-3 w-3 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:f.nota})]})]},f.id))})})]}),e.jsxs(O,{children:[e.jsx(P,{children:e.jsx(L,{children:"Ações Rápidas"})}),e.jsxs(T,{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsx(b,{variant:"outline",className:"justify-start",children:"Gerenciar Animações"}),e.jsx(b,{variant:"outline",className:"justify-start",children:"Moderar Comentários"}),e.jsx(b,{variant:"outline",className:"justify-start",children:"Gerenciar Usuários"}),e.jsx(b,{variant:"outline",className:"justify-start",children:"Ver Relatórios"})]})]}),e.jsx(Dr,{isOpen:m,onClose:()=>d(!1),onSuccess:j})]})};function Br(){return e.jsx(hr,{children:e.jsx(Nt,{children:e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(Ar,{}),e.jsx("main",{className:"flex-1 container py-8",children:e.jsxs(bt,{children:[e.jsx(G,{path:"/",element:e.jsx(_r,{})}),e.jsx(G,{path:"/login",element:e.jsx(Or,{})}),e.jsx(G,{path:"/registro",element:e.jsx(Tr,{})}),e.jsx(G,{path:"/explorar",element:e.jsx(He,{})}),e.jsx(G,{path:"/anime/:id",element:e.jsx(kr,{})}),e.jsx(G,{path:"/minha-lista",element:e.jsx(Pr,{})}),e.jsx(G,{path:"/minhas-avaliacoes",element:e.jsx(Lr,{})}),e.jsx(G,{path:"/perfil",element:e.jsx(Fr,{})}),e.jsx(G,{path:"/lancamentos",element:e.jsx(He,{})}),e.jsx(G,{path:"/buscar",element:e.jsx(He,{})}),e.jsx(G,{path:"/admin/dashboard",element:e.jsx(Er,{adminOnly:!0,children:e.jsx(Mr,{})})})]})}),e.jsx(Sr,{})]})})})}Ge.createRoot(document.getElementById("root")).render(e.jsx(pt.StrictMode,{children:e.jsx(Br,{})}));
